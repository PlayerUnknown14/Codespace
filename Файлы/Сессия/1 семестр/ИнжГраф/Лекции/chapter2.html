<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<title>Составные кривые</title>
<link rel="stylesheet" href="main.css" type="text/css">
</head>
<body lang=RU class="Normal" bgcolor="#FFFFFF">
<table width="550" border="0" cellspacing="0" cellpadding="0" align="center">
  <tr>
    <td class="heading1">Составные кривые</td>
  </tr>
  <tr>
    <td>
      <p>Поверхности произвольной формы, применяемые в авиа-, судо-, автомобилестроении 
        и других областях невозможно описать, используя простые геометрические 
        поверхности - цилиндр, сфера, конус и т.п. Возникает необходимость представления 
        сложной поверхности из отдельных отсеков, которые стыкуются с заданным 
        порядком гладкости. Для получения описания сложной поверхности реального 
        объекта применима следующая процедура, обычно используемая для математического 
        представления таких сложных поверхностей, которая состоит в следующем.</p>
      <ol>
        <li>Поверхность покрывается двумя воображаемыми группами линий в продольном 
          и поперечном направлениях. Эта сетка линий определяет множество топологически 
          прямоугольных ячеек, каждая из которых в случае гладкой поверхности, 
          будет ограничена четырьмя гладкими кривыми (Рис.22).</li>
        <li>Координаты узлов этой воображаемой сетки измеряются на модели или 
          на наборе чертежей поперечных сечений поверхности.</li>
        <li>С помощью интерполяции математически описываются эти две группы линий, 
          образующих сетку.</li>
        <li>Каждая ячейка сетки имеет четыре корректно определенные границы, внутренность 
          ячейки может быть “заполнена” с помощью двумерной интерполяции.</li>
      </ol>
      <p align="center"><img src="chapter2/figure22.png" width="301" height="199"></p>
      <p align="center">Рис. 22</p>
      <p class="heading2"><a name="paramcurves"></a>Составные кривые, заданные 
        параметрическими уравнениями</p>
      <p>Рассмотрим конструирование составных кривых, параметрическое описание 
        которых мы получили выше. Предположим, что нужно соединить сегмент:</p>
      <p>r<sup>(1)</sup> (u<sub>1</sub>) 0<span style='font-family:
&quot;Courier New&quot;'>&#8804;</span>u<sub>1</sub><span style='
font-family:&quot;Courier New&quot;'>&#8804;</span>1 (u<sub>1</sub> - больше или 
        равно нулю, но меньше или равно единице.)</p>
      <p>r<sup>(2)</sup> (u<sub>2</sub>) 0<span style='font-family:
&quot;Courier New&quot;'>&#8804;</span>u<sub>2</sub><span style='
font-family:&quot;Courier New&quot;'>&#8804;</span>1 (u<sub>2</sub> - больше или 
        равно нулю, но меньше или равно единице.)</p>
      <p>Требуется, чтобы кривая была непрерывной в точке соединения и имела непрерывный 
        наклон. Следовательно, r<sup>(1)</sup> (1) = r<sup>(2)</sup>(0) и</p>
      <p><sub><img src="chapter2/image001.gif"></sub>, где T - единичный вектор 
        касательной, <i><span
class=symbol>a</span></i>1 и <i><span class=symbol>a</span></i>2 </p>
      <p>скаляры, влияющие на полноту кривой.</p>
      <p>Сложнее добиться непрерывности кривизны. Если в качестве параметра взять 
        S - длину дуги, то кривизна <span
class=symbol>h</span> в любой точке кривой определяется:</p>
      <p><sub><img src="chapter2/image002.gif"></sub>,</p>
      <p>где N - единичный вектор главной нормали, а именно линия, соединяющая 
        данную точку с центром кривизны. Если центр кривизны движется непрерывно 
        при переходе через точку соединения, то<span
class=symbol> h</span> и N должны быть непрерывны (Рис.23).</p>
      <p align="center"><img src="chapter2/figure23.png" width="373" height="177"></p>
      <p align="center">Рис. 23</p>
      <p>Если T- единичный касательный вектор и N единичный вектор нормали непрерывны, 
        то непрерывен и вектор бинормали B = T x N. И для него справедливо соотношение:</p>
      <p><span lang=EN-US><sub><img
src="chapter2/image003.gif"></sub></span></p>
      <p>Уравнение удобно для анализа кривизны потому, что включает производные 
        только по параметру кривой, а не по длине дуги S. Тогда, для непрерывности 
        дуги в точке соединения необходимо:</p>
      <p><span lang=EN-US><sub><img
src="chapter2/image004.gif"></sub></span></p>
      <p>Принимая во внимание выражение для T:</p>
      <p><sub><img src="chapter2/image005.gif"></sub></p>
      <p>Это соотношение удовлетворяется при: </p>
      <p><span lang=EN-US><sub><img
src="chapter2/image006.gif"></sub></span>,</p>
      <p>где <span
class=symbol>m</span> - произвольный скаляр. Однако наиболее часто <span
class=symbol>m</span> = 0.</p>
      <p class="heading2"><a name="ferguscurves"></a>Составные кривые Фергюсона</p>
      <p>Сегмент кривой в форме Фергюсона может быть записан через конечные точки 
        и касательные в них (форма Эрмита ).</p>
      <p>r<sup> </sup>(u) = r(0)(1-3u<sup><span class=symbol>2</span></sup>+2u<sup><span style='
font-family:Symbol'>3</span></sup>)+r(1)(3u<sup><span
class=symbol>2</span></sup>- 2u<sup><span style='
font-family:Symbol'>3</span></sup>)+ r'(0)(u-2u<sup><span
class=symbol>2</span></sup>+u<sup><span style='
font-family:Symbol'>3</span></sup>)+ r'(1)(-u<sup><span
class=symbol>2</span></sup>+u<sup><span style='
font-family:Symbol'>3</span></sup>) 0 <span
style='font-family:"Courier New"'>&#8804; </span>u <span style='font-family:
&quot;Courier New&quot;'>&#8804; </span>1</p>
      <p>Фергюсон обращается к обычному подходу для получения непрерывности кривизны 
        и подбирает r , r' , r&quot; в точке соединения сегментов так, чтобы удовлетворялись 
        условия <span
class=symbol>a</span>1=<sup> </sup><span class=symbol>a</span>2, а также r<sup> 
        </sup><sup><span
class=symbol>(1)</span></sup>(1)= r<sup> </sup><sup><span class=symbol>(2)</span></sup>(0). 
        Используя уравнение Эрмита определяем первую производную в общем виде:</p>
      <p>r'<sup> </sup>(u) = r(0)(-6u+6u<sup><span class=symbol>2</span></sup>)+r(1)(6u- 
        6u<sup><span style='
font-family:Symbol'>2</span></sup>)+ r'(0)(1-4u+3u<sup><span class=symbol>2</span></sup>)+ 
        r'(1)(-2u+3u<sup><span class=symbol>2</span></sup>)</p>
      <p>Вторая производная будет иметь следующий вид:</p>
      <p>r&quot;(u) = r(0)(-6+12u)<sup><span class=symbol> </span></sup>+r(1)(6 
        - 12u)+ r(0)(-4+6u)<sup><span
class=symbol> </span></sup>+r(1) (-2+6u)</p>
      <p>Определим значение второй производной r&quot;(u) для конца первого и 
        начала второго сегмента, подставляя соответствующие значения параметра 
        u.</p>
      <p>r&quot;<sup> </sup><sup><span
class=symbol>(1)</span></sup>(1)=6r<sup> </sup><sup><span class=symbol>(1)</span></sup>(0)-6 
        r<sup> </sup><sup><span class=symbol>(1)</span></sup>(1) +2r'<sup> </sup><sup><span class=symbol>(1)</span></sup>(0) 
        +4r'<sup> </sup><sup><span
class=symbol>(1)</span></sup>(1)</p>
      <p>r&quot;<sup> </sup><sup><span
class=symbol>(2)</span></sup>(0)= -6r<sup> </sup><sup><span
class=symbol>(2)</span></sup>(0)+6 r<sup> </sup><sup><span class=symbol>(2)</span></sup>(1) 
        -4r'<sup> </sup><sup><span
class=symbol>(2)</span></sup>(0) -2r'<sup> </sup><sup><span class=symbol>(2)</span></sup>(1)</p>
      <p>Последние полученные выражения упрощаются с учетом условий:</p>
      <p>r<sup> </sup><sup><span
class=symbol>(1)</span></sup>(1)= r<sup> </sup><sup><span class=symbol>(2)</span></sup>(0) 
        и r'<sup> </sup><sup><span class=symbol>(1)</span></sup>(1)= r'<sup><span style='
font-family:Symbol'>(2)</span></sup>(0).</p>
      <p>Можем записать. </p>
      <p>6r<sup> </sup><sup><span
class=symbol>(1)</span></sup>(0)+2 r'<sup> </sup><sup><span
class=symbol>(1)</span></sup>(0) =6 r<sup> </sup><sup><span
class=symbol>(2)</span></sup>(1) - 8r'<sup> </sup><sup><span
class=symbol>(2)</span></sup>(0) -2r'<sup> </sup><sup><span
class=symbol>(2)</span></sup>(1)</p>
      <p> или, разделив коэффициенты на 2, получаем</p>
      <p>3r<sup> </sup><sup><span
class=symbol>(1)</span></sup>(0)+r'<sup> </sup><sup><span class=symbol>(1)</span></sup>(0) 
        =3 r<sup> </sup><sup><span class=symbol>(2)</span></sup>(1) - 4r'<sup> 
        </sup><sup><span
class=symbol>(2)</span></sup>(0) - r'<sup> </sup><sup><span
class=symbol>(2)</span></sup>(1).</p>
      <p>В левую часть выражения перенесем члены, содержащие первые производные, 
        в результате получаем следующее выражение:</p>
      <p>r'<sup> </sup><sup><span
class=symbol>(1)</span></sup>(0)+4r'<sup> </sup><sup><span class=symbol>(2)</span></sup>(0) 
        +r'<sup> </sup><sup><span class=symbol>(2)</span></sup>(1) =3(r<sup> </sup><sup><span
class=symbol>(2)</span></sup>(1) - r<sup> </sup><sup><span class=symbol>(1)</span></sup>(0))</p>
      <p>Последнее выражение дает соотношение между касательными векторами в трех 
        последовательных точках и значениями радиус-векторов для рассматриваемых 
        нами сегментов.</p>
      <p>Если переписать последнее соотношение для любых трех точек, получаем:</p>
      <p>t<sup> </sup><sub>i-1</sub>+4t<sup> </sup><sub>i </sub>+t <sub>i+1</sub><sup> 
        </sup>=3(r <sub>i+1</sub> - r<sup> </sup><sub>i-1</sub> ), </p>
      <p>где</p>
      <p>i =1, 2, 3,...n-1</p>
      <p>Последнее выражение есть рекуррентное соотношения между касательными 
        в трех последовательных точках.</p>
      <p>Если строится составная кривая Фергюсона, проходящая через точки r<sub>0</sub> 
        , r<sub>1</sub><sup><span
class=symbol> </span></sup>... r<sub>n</sub>, которая имеет касательные t<sub>0</sub> 
        , t<sub>1</sub><sup><span class=symbol> </span></sup>... t<sub>n</sub> 
        , то достаточно знать t<sub>0</sub> и t<sub>n</sub>, чтобы получить систему 
        уравнений, из которых все остальные касательные можно определить через 
        положения точек кривой. Приписывание этих значений касательным обеспечит 
        непрерывность кривизны составной кривой. Данный метод хорошо подходит 
        для автоматического построения кривой по определенной последовательности 
        точек при условии, что они расположены достаточно равномерно.</p>
      <p class="heading2"><a name="beziercurves"></a>Составные кривые Безье</p>
      <p>Сегмент кубической кривой Безье описывается выражением:</p>
      <p>r<sup> </sup>(u)= (1 - u)<sup><span
class=symbol> 3</span></sup>r<sub>0</sub>+3u(1 - u)<sup><span
class=symbol> 2</span></sup>r<sub>1</sub>+3u<sup><span class=symbol>2</span></sup> 
        (1 - u)r<sub>2</sub>+u<sup><span class=symbol>3</span></sup>r<sub>3</sub> 
        0<span style='
font-family:&quot;Courier New&quot;'>&#8804;</span>u<span
style='font-family:"Courier New"'>&#8804;</span>1,</p>
      <p>где r<sub>0</sub> , r<sub>1</sub><sup><span
class=symbol> </span></sup>, r<sub>2</sub><sup><span class=symbol> </span></sup>, 
        r<sub>3</sub> - вершины характеристического многоугольника, который аппроксимируется 
        кривой.</p>
      <p>Безье вводит меньше ограничений, чем Фергюсон при выборе условий непрерывности 
        внутри сегмента. В то время, как в подходе Фергюсона используется прежде 
        всего для аппроксимации кривыми заданного набора точек, подход Безье дает 
        больше возможности непосредственно для конструирования кривых.</p>
      <p align="center"><img src="chapter2/figure24.png" width="289" height="169"></p>
      <p align="center">Рис. 24</p>
      <p>Конструируется сегмент кривой r<sup><span class=symbol>2</span></sup>(u<sub>2</sub>) 
        (Рис.24), наклон и кривизна которого, должны быть непрерывны в точке соединения 
        с существующим сегментом r<sup> 1</sup>(u<sub>1</sub>). Так как r<sup> 
        </sup>(0)= r<sub> 0</sub> и r<sup> </sup>(1)= r<sup> </sup><sub>3</sub>, 
        то первое требование есть </p>
      <p>r<sup> </sup><sub>3</sub><sup><span
class=symbol> (1)</span></sup> = r<sup> </sup><sub>0</sub><sup><span
class=symbol> (2)</span></sup>(<span style='font-family:
Symbol'> * </span>)</p>
      <p>r<sup> </sup>(u)= -3(1 - u)<sup><span
class=symbol> </span></sup><sup>2 </sup>r<sub>0</sub>+3(1 - u)<sup><span class=symbol> 
        2</span></sup>r<sub>1</sub> - 6u(1 - u)r<sub>2</sub>+3u<sup>2</sup>r<sub>3</sub></p>
      <p>Так как</p>
      <p>r ' (0) =3(r<sub>1</sub> - r<sub>0</sub>) и r ' (1) =3(r<sub>3</sub> 
        - r<sub>2</sub>),</p>
      <p>то для непрерывности угла наклона касательной требуется выполнение соотношения:</p>
      <p><sub><img src="chapter2/image007.gif"></sub> <span style='font-family:
Symbol'>(**) </span>,</p>
      <p>где <span
class=symbol>a</span><sub>1</sub> , <span
class=symbol>a</span><sub>2</sub> - суть длины касательных векторов.</p>
      <p>В общем случае они имеют разное значение. Заметим , что если выполняются 
        начальные условия , то три точки r<sub>2</sub><sup><span class=symbol>(1)</span></sup> 
        , r<sub>3</sub><sup><span class=symbol>(1) </span></sup>= r<sub>0</sub><sup><span
class=symbol>(2) </span></sup>, r<sub>1</sub><sup><span class=symbol>(2)</span></sup> 
        должны быть коллинеарные. Далее находим:</p>
      <p>r'<sup> </sup>(u)= -3 (1 - u)<sup><span class=symbol> 2</span></sup>r<sub>0</sub>+(3(1 
        - u)<sup><span
class=symbol> 2</span></sup>+( -6 )u(1-u) )r<sub>1</sub>+(6u(1 - u)+( -3u<sup><span
class=symbol>2</span></sup> ) )r<sub>2</sub>+3u<sup><span
class=symbol>2</span></sup>r<sub>3,</sub></p>
      <p>где 0<span
style='font-family:"Courier New"'>&#8804;</span>u<span style='font-family:
&quot;Courier New&quot;'>&#8804;</span>1</p>
      <p>r<sup> &quot;</sup>(u) =+6(1-u ) r<sub>0</sub> +(-6(1 - u)<sup><span style='
font-family:Symbol'> </span></sup>+( -6 )(1-u)+6u )r<sub>1</sub>+(-6u +6(1 - u)-</p>
      <p>- 6u)r<sub>2</sub>+6ur<sub>3</sub>=6(1-u ) r<sub>0</sub> +(-12(1 - u)<sup><span style='
font-family:Symbol'> </span></sup>+6u )r<sub>1</sub>+(-12u +6(1 - u) )r<sub>2</sub>+6u<sup><span
class=symbol> </span></sup>r<sub>3.</sub></p>
      <p>Определим r&quot;(u) для конца первого сегмента и начала второго.</p>
      <p>r&quot;<sup> </sup><sup><span class=symbol>(1)</span></sup>(1) =6u r<sub>1</sub><sup><span
class=symbol>(1)</span></sup> -12 r<sub>2</sub><sup><span class=symbol>(1) </span></sup>+6 
        r<sub>3</sub><sup><span
class=symbol>(1)</span></sup>=6( r<sub>1</sub><sup>(1)</sup> - 2r<sub>2</sub><sup>(1)</sup> 
        +<sup> </sup>r<sub>3</sub><sup>(1) </sup>) </p>
      <p>r&quot;<sup> </sup><sup><span
class=symbol>(2)</span></sup>(0) = 6r<sub>0</sub><sup><span
class=symbol>(2)</span></sup> -12 r<sub>1</sub><sup><span class=symbol>(2) </span></sup>+6 
        r<sub>2</sub><sup><span
class=symbol>(2)</span></sup>=6( r<sub>0</sub><sup>(2)</sup> - 2r<sub>1</sub><sup>(2)</sup> 
        +<sup> </sup>r<sub>2</sub><sup>(2) </sup>)</p>
      <p>Условие непрерывности кривизны в точке сопряжения , то есть непрерывность 
        в этой точке величины<span
class=symbol>  h</span>B = ( r' x<sup><span class=symbol> </span></sup>r&quot; 
        ) / l r' l<sup><span
class=symbol> 3 </span></sup>, из предыдущих выводов можно записать:</p>
      <p> r&quot;<sup>(2)</sup>(0)= <span
class=symbol>l<sup>2 </sup></span>r&quot;<sup>(1)</sup> +<sup> </sup><span
class=symbol>m </span>r<sub>1</sub>'<sup>(1)</sup>(1).</p>
      <p>Тогда соотношения (*) и (**) дают</p>
      <p>6 ( r<sub>0</sub><sup>(2)</sup> - r<sub>1</sub><sup>(2)</sup> + r<sub>2</sub><sup>(2) 
        </sup>) = 6<span
class=symbol> l<sup>2 </sup></span>(r<sub>1</sub><sup>(1)</sup> - 2r<sub>2</sub><sup>(1)</sup> 
        +<sup> </sup>r<sub>3</sub><sup>(1) </sup>) + 3<span class=symbol> m (</span>r<sub>3</sub><sup>(1) 
        </sup>-<sup> </sup>r<sub>2</sub><sup>(1)</sup><span class=symbol> )</span></p>
      <p>Исключим r<sub>1</sub>'<sup>(2) </sup>и r<sub>0</sub>'<sup>(r)</sup> 
        на основании начальных условий r<sub>0</sub><sup>(2) </sup>= r<sub>3</sub><sup>(1)</sup>. 
      </p>
      <p>Получаем</p>
      <p><sub><img src="chapter2/image009.gif"></sub></p>
      <p>тогда</p>
      <p>6 r<sub>2</sub><sup>(2)</sup> = 6<span class=symbol> l<sup>2 </sup></span>(r<sub>1</sub><sup>(1)</sup> 
        - 2r<sub>2</sub><sup>(1)</sup> +<sup> </sup>r<sub>3</sub><sup>(1) </sup>) 
        + 3<span class=symbol> m (</span>r<sub>3</sub><sup>(1) </sup>-<sup> </sup>r<sub>2</sub><sup>(1)</sup><span class=symbol> 
        )-6</span> r<sub>0</sub><sup>(2)</sup> +12r<sub>1</sub><sup>(2)</sup></p>
      <p>или</p>
      <p>r<sub>2</sub><sup>(2)</sup> = <span class=symbol>l<sup>2 </sup></span>(r<sub>1</sub><sup>(1)</sup> 
        - 2r<sub>2</sub><sup>(1)</sup> +<sup> </sup>r<sub>3</sub><sup>(1) </sup>) 
        + 1/2<span class=symbol> m (</span>r<sub>3</sub><sup>(1) </sup>-<sup> 
        </sup>r<sub>2</sub><sup>(1)</sup><span class=symbol>) - </span>r<sub>0</sub><sup>(2)</sup> 
        +2r<sub>1</sub><sup>(2)</sup></p>
      <p>r<sub>2</sub><sup>(2)</sup>=<span
class=symbol>l<sup>2 </sup></span>r<sub>1</sub><sup>(1)</sup><span
class=symbol>-</span>2<span style='font-family:
Symbol'>l<sup>2</sup></span>r<sub>2</sub><sup>(1)</sup> +<span class=symbol>l<sup>2</sup></span><sup> 
        </sup>r<sub>3</sub><sup>(1)</sup>+1/2<span
class=symbol>m</span>r<sub>3</sub><sup>(1) </sup><span
class=symbol>-</span>1/2<span style='font-family:
Symbol'>m</span><sup> </sup>r<sub>2</sub><sup>(1) </sup><span
class=symbol>-</span>r<sub>3</sub><sup>(1)</sup>+2<span
class=symbol>l</span> r<sub>3</sub><sup>(1)</sup> <span
class=symbol>-</span>2<span style='font-family:
Symbol'>l</span> r<sub>2</sub><sup>(1)</sup>+ </p>
      <p>+<span
class=symbol>2</span>r<sub>3</sub><sup>(1)</sup> =<span
class=symbol>l<sup>2 </sup></span>r<sub>1</sub><sup>(1)</sup><span
class=symbol>-(</span>2<span style='
font-family:Symbol'>l<sup>2</sup></span> +2<span style='
font-family:Symbol'>l-</span>1/2<span
class=symbol>m)</span>r<sub>2</sub><sup>(1) </sup>+(<span
class=symbol> l<sup>2</sup></span> +2<span class=symbol>l </span>+ 1+1/2<span class=symbol>m 
        )</span><sup> </sup>r<sub>3</sub><sup>(1) </sup>.</p>
      <p> Тем самым r<sub>2</sub><sup>(2)</sup> определяется через r<sub>1</sub><sup>(1)</sup> 
        , r<sub>2</sub><sup>(1)</sup> , r<sub>3</sub><sup>(1)</sup> и выбранные 
        величины <span class=symbol>l </span>и<span style='
font-family:Symbol'> m</span>.</p>
      <p> Вершины r<sub>0</sub><sup>(2)</sup> и r<sub>1</sub><sup>(2)</sup> уже 
        определены условиями непрерывности и ее наклона и поэтому сохраняя непрерывность 
        кривизны можно свободно выбирать лишь четвертую вершину r<sub>3</sub><sup>(2)</sup> 
        характеристической ломаной сегмента r<sup>(2)</sup>(u<sub>2</sub>).</p>
      <p> Если вычесть r<sub>3</sub><sup>(1)</sup> из обеих частей, то правая 
        часть может быть выражена в виде комбинаций (r<sub>3</sub><sup>(1)</sup> 
        -<sup> </sup>r<sub>2</sub><sup>(1)</sup>) и (r<sub>2</sub><sup>(1)</sup> 
        -<sup> </sup>r<sub>1</sub><sup>(1)</sup>) . Из этого следует, что точка 
        r<sub>2</sub><sup>(2)</sup> должна быть компланарна с точками r<sub>1</sub><sup>(1)</sup>, 
        r<sub>2</sub><sup>(1)</sup>, r<sub>3</sub><sup>(1) </sup>= r<sub>0</sub><sup>(2)</sup> 
        и r<sub>1</sub><sup>(2)</sup> . </p>
      <p> Используя эти результаты можно построить составную кривую Безье , обеспечив 
        непрерывность кривой , ее наклона и кривизны. Мы можем добавлять по одному 
        сегменту, начав с одного конца. Для определения формы каждого нового сегмента 
        выбираются лишь <span
class=symbol>l </span>, <span class=symbol>m </span> и вершина r<sub>3</sub>. 
        Так как r<sub>0</sub> , r<sub>1</sub> , r<sub>2</sub> в непосредственно 
        определяются через вершины предыдущего сегмента после выбора <span class=symbol>l 
        </span>и<span style='
font-family:Symbol'> m </span>.</p>
    </td>
  </tr>
  <tr>
    <td height="20">&nbsp;</td>
  </tr>
</table>
</body>
</html>
